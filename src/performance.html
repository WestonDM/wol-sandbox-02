<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Performance | The Weekly Options List</title>
	<meta name="description" content="A ranked list of the BEST weekly options to sell, curated by a proven algorithm that scans thousands of options every week.">
	<meta name="keywords" content="options, selling options, weekly options, puts, calls, wheel, wheel strategy, quant, algorithm, options algorithm guy">
	

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script> 
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">-->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js" type="text/javascript"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/5.4.4/css/tabulator.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/5.4.4/js/tabulator.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">


</head>

	<body id="performance">
        
        <nav class="topnav" id="mainnav">
            <a class="nav logo" href="index.html">
                <img src="img/logo.png" alt="The Weekly Options List: Powered by the EVOLVE Algorithm" class="desk">
                <img src="img/tablet_logo.png" alt="The Weekly Options List: Powered by the EVOLVE Algorithm" class="tab">
                <img src="img/mobile_logo.png" alt="The Weekly Options List: Powered by the EVOLVE Algorithm" class="mob">

            </a>
            <ul class="menu_grp" id="main-menu">
                <li class=" desktab">
                    <a class="dropdown-toggle" href="#">LISTS</a>
                    <ul class="dropdown">
                        <li><a class="nav reg_menu" href="puts.html">PUTS LIST</a></li>
                        <li><a class="nav reg_menu" href="calls.html">CALL LIST</a></li>
                    </ul>
                </li>
                <li class="mob"><a class="nav reg_menu" href="puts.html">PUTS LIST</a></li>
                <li class="mob"><a class="nav reg_menu" href="calls.html">CALL LIST</a></li>

                <li><a class="nav reg_menu active" href="performance.html">PERFORMANCE</a></li>
                <li><a class="nav reg_menu" href="about.html">ABOUT</a></li>
                <li class="user-info"><button id="login-btn" class="nav reg_menu">LOGIN</button></li>
                <li><a class="nav btn" href="membership.html" id="member-link">Become a Member</a></li>
                <li><button class="nav btn hidden" id="acct-deets">Manage Account</button></li>
            </ul>
            <a href="javascript:void(0);" class="icon hamburger" onclick="menuOpener()">
                <i class="fa fa-bars"></i>
            </a>
        </nav>
        <header>
            <div class="main">
                <div>
                    <h1>The EVOLVE Algorithm In Action</h1>
                    <h2>Below is the median realized ROI for all ranked Puts going back to April 16, 2021.<br>
                        <strong>That's more than 120,000 Puts!</strong></h2>
                </div>
            </div>
        </header>
        <section id="perform-download" class="main_section download_sect">
            <div class="main">
                <div>
                    <p><img src="img/chart_eg.png" alt="chart example" width="683" height="503"></p>
                    <button id="download" class="btn">Download</button>
                </div>
            </div>
        </section>
        <section id="perform-table-hl" class="main_section blue_section table_hl">
            <div class="main">
                <h4 class="whiteText">Higher-ranked Puts perform better than lower-ranked Puts! That means the EVOLVE algorithm is doing its job. If you want to examine performance for any specific week, use the interactive list below.</h4>
                
            </div>
        </section>
        <section id="perform-table" class="blue_section table_section">
            <div class="table_main">
                <div>
                    <div id="options" class="options_table"></div>
                </div>
            </div>
        </section>
        <footer class="main_section">
            <div class="main">
                <div>
                    <p class="fineprint">Disclaimer: Weekly Options List is not a financial advisor and none of the content should be considered financial advice; this site is for informational/educational purposes only. Any content listed here is purely based on my opinions and/or personal analysis; I'm just a dude who likes to crunch numbers. I am in no way affiliated with any stock or company that appears in my content. I also cannot promise profits; historical performance in the stock market does not guarantee future success. Investing in the stock market is inherently risky. Any stock you invest in could potentially go to zero. Do not invest/risk money that you cannot afford to lose.</p>
                    <p class="fineprint">&copy;2023 The Weekly Options List</p>
                </div>
            </div>
        
        </footer>
        <template id="content">
            <figure class="content-display">
                <img />
                <figcaption>
                    <a class="credit"></a>
                </figcaption>
            </figure>
        </template>

	    <script name="json_data" src="json/recap.json"></script>
        <script src="js/scripts.js"></script>
        <script src="js/perform.js" type="text/javascript"></script>
        
        <script>
        
        /********************* Acct Mgmt *********************/



// by default, add login and signup functionality
const button1 = document.getElementById('join-btn');
const button1a = document.getElementById('member-btn');
const button2 = document.getElementById('login-btn');
const button3 = document.getElementById('acct-deets');

const joinLnk = document.getElementById('join-link');
const loginLnk = document.getElementById('login-link');

const signup = () => netlifyIdentity.open('signup');
const login = () => netlifyIdentity.open('login');


if(button1){
    button1.addEventListener('click', signup);
}

if(button1a){
    button1a.addEventListener('click', signup);
}

if(joinLnk){
    joinLnk.addEventListener('click', signup);
}

if(loginLnk){
    //loginLnk.preventDefault
    loginLnk.addEventListener('click', login);
}

if(button2){

    button2.addEventListener('click', login);
}


const updateUserInfo = (user) => {
	const container = document.querySelector('.user-info');
	// cloning the buttons removes existing event listeners
	//const b1 = button1.cloneNode(true);
	const b2 = button2.cloneNode(true);
    //const b3 = button3;
	// empty the user info div
	container.innerHTML = '';
	if(user) {
        $('#acct-deets').removeClass('hidden');
        $('#member-link').addClass('hidden');
		b2.innerText = 'LOG OUT';
		b2.addEventListener('click', () => {
			netlifyIdentity.logout();
		});
		//button3.innerText = 'MANAGE SUBSCRIPTION';
		button3.addEventListener('click', () => {
			// TODO handle subscription management
		});
        

	} else {
		// if no one is logged in, show login/signup options
        $('#acct-deets').addClass('hidden');
        $('#member-link').removeClass('hidden');
		b2.innerText = 'LOG IN';
		b2.addEventListener('click', login);
		//b1.innerText = 'Sign Up';
		//b1.addEventListener('click', signup);
	}
	// add the updated buttons back to the user info div
	//container.appendChild(button3);
	container.appendChild(b2);
};


/********************* Subscription Content *********************/

const loadSubscriptionContent = (user) => {
	['free', 'pro', 'premium'].forEach((type) => {
//		fetch('../src/functions/get-protected-content.js', {
//		fetch('.netlify/functions/get-protected-content', {
//		fetch('.netlify/my_functions/get-protected-content', {
//		fetch('.netlify/my_functions/get-protected-content.js', {
		fetch('../my_functions/get-protected-content', {
			method: 'POST',
			body: JSON.stringify({
				type
			}),
		}).then((res) => res.json()).then((data) => {
			const template = document.querySelector(`#content`);
			const container = document.querySelector(`.${type}`);
			// remove any existing content from the content containers
			/*const oldContent = container.querySelector(`.content-display`);
			if(oldContent) {
				container.removeChild(oldContent);
			}*/
			const content = template.content.cloneNode(true);
			const img = content.querySelector('img');
			img.src = data.src;
			img.alt = data.alt;
			const credit = content.querySelector('.credit');
			credit.href = data.creditLink;
			credit.innerText = `Credit: ${data.credit}`;
			const caption = content.querySelector('figcaption');
			caption.innerText = data.message;
			caption.appendChild(credit);
			container.appendChild(content);
		});
	});
};
/********************* Update Page *********************/


const handleUserStateChange = (user) => {
	updateUserInfo(user);
    loadSubscriptionContent(user);
};

netlifyIdentity.on('init', handleUserStateChange);
netlifyIdentity.on('login', handleUserStateChange);
netlifyIdentity.on('logout', handleUserStateChange);

        
        </script>
	</body>

</html>